<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TUM Live | Edit Units</title>
    {{template "headImports"}}
    <script>window.HELP_IMPROVE_VIDEOJS = false;</script>
    <link rel="stylesheet" href="/dist/video.js/dist/video-js.min.css">
    <link rel="stylesheet" href="/dist/nouislider/distribute/nouislider.min.css">
    <script src="/dist/nouislider/distribute/nouislider.min.js"></script>
</head>
<body class="bg-primary">

{{- /*gotype: TUM-Live/web.LectureUnitsPageData*/ -}}
{{template "header" .IndexData}}

<div class="text-white container mx-auto">
    <div class="min-w-screen flex items-center justify-center">
        <div class="w-full lg:w-5/6">
            <h1>Cut your lecture into units:</h1>
            <video
                    id="my-video"
                    class="video-js w-full"
                    controls
                    muted
                    preload="auto"
                    data-setup='{"fluid": true}'>
                <source src="{{if .Lecture.PlaylistUrl}}{{.Lecture.PlaylistUrl}}{{else if .Lecture.PlaylistUrlPRES}}{{.Lecture.PlaylistUrlPRES}}{{else}}{{.Lecture.PlaylistUrlCAM}}{{end}}"
                        type="application/x-mpegURL"/>
                <p class="vjs-no-js">
                    To view this video please enable JavaScript.
                </p>
            </video>
            <div class="mt-4">
                <h2>Units:</h2>
                {{range $unit := .Units}}
                    <div class="flex">
                        {{$unit.UnitName}}
                    </div>
                {{end}}
                <button class="bg-info px-4 py-2 rounded" onclick="toggleNewUnitForm(this)">New Unit</button>
                <form id="unitNew" class="hidden" onsubmit="return submitNewUnit({{.Lecture.Model.ID}})">
                    <label>
                        <span>Unit Title. Keep it short (Perhaps one word and a number)</span>
                        <input id="newUnitTitle" type="text" placeholder="Introduction">
                    </label>
                    <label>
                        Unit description
                        <textarea id="newUnitDescription" placeholder="You can use Markdown."></textarea>
                    </label>
                    <div id="sliderNew" class="mt-4"></div>
                    <input type="submit" value="Save Unit" class="bg-secondary hover:text-white text-gray-300 m-4 border-0">
                </form>
            </div>
        </div>
    </div>
</div>

</body>
<script src="/dist/video.js/dist/video.min.js"></script>
<script src="/dist/@videojs/http-streaming/dist/videojs-http-streaming.min.js"></script>
<script src="/dist/videojs-contrib-quality-levels/dist/videojs-contrib-quality-levels.min.js"></script>
<script src="/dist/videojs-hls-quality-selector/dist/videojs-hls-quality-selector.min.js"></script>
<script src="/assets/ts-dist/lecture-units.js"></script>
</html>
